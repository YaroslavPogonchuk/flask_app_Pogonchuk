{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <div class="container mt-5">
        <div class="post-detail">
            <h1 class="display-4 mb-4">Post #{{ post.id }} - {{ post.title }}</h1>
            
            <div class="post-meta mb-4">
                <p><strong>Author:</strong> {{ post.author.username }}</p>
                <p><strong>Published on:</strong> {{ post.posted }}</p>
            </div>

            <div class="post-content mb-4">
                <p>{{ post.content }}</p>
            </div>

            <!-- Теги -->
            <div class="post-tags mb-4">
                {% if post.tags %}
                    <p><strong>Tags:</strong></p>
                    <ul>
                        {% for tag in post.tags %}
                            <li>{{ tag.name }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No tags available for this post.</p>
                {% endif %}
            </div>

            <div class="action-buttons">
                <!-- Back to posts button -->
                <a href="{{ url_for('.get_posts') }}" class="btn btn-outline-secondary btn-lg me-2">
                    <i class="bi bi-arrow-left-circle"></i> Back to Posts
                </a>
                
                <!-- Edit Post button -->
                <a href="{{ url_for('.edit_post', id=post.id) }}" class="btn btn-warning btn-lg me-2">
                    <i class="bi bi-pencil-square"></i> Edit Post
                </a>

                <!-- Delete Post form -->
                <form action="{{ url_for('posts.deletPost', id=post.id) }}" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-lg" onclick="return confirm('Are you sure you want to delete this post?')">
                        <i class="bi bi-trash"></i> Delete Post
                    </button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
