{%extends 'base.html'%}

{% block title%}Profile{% endblock %}
{% block css %} 
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{%endblock%}
{% block content%}
<div class="container mt-5">
    <h2 class="text-center">Welcome, {{ user_name }}</h2>
    <div class="text-end mb-3">
        <a href="{{url_for('.logout')}}" class="btn btn-danger">Logout</a>
    </div>

    <a class="nav-link" href="{{ url_for('.set_color_scheme', scheme='light') }}" class="light-button">Світла схема</a>
    <a class="nav-link" href="{{ url_for('.set_color_scheme', scheme='dark') }}" class="dark-button">Темна схема</a>
    
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Add Cookie</h5>
            <form method="POST">
                <div class="mb-3">
                    <label for="key" class="form-label">Key</label>
                    <input type="text" class="form-control" id="key" name="key" placeholder="Enter key" required>
                </div>
                <div class="mb-3">
                    <label for="value" class="form-label">Value</label>
                    <input type="text" class="form-control" id="value" name="value" placeholder="Enter value" required>
                </div>
                <div class="mb-3">
                    <label for="max_age" class="form-label">Max Age (in seconds)</label>
                    <input type="number" class="form-control" id="max_age" name="max_age" placeholder="Enter max age (optional)">
                </div>
                <button type="submit" name="add_cookie" class="btn btn-success">Add Cookie</button>
            </form>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Delete Cookie</h5>
            <form method="POST">
                <div class="mb-3">
                    <label for="cookie_key" class="form-label">Key</label>
                    <input type="text" class="form-control" id="cookie_key" name="cookie_key" placeholder="Enter key to delete" required>
                </div>
                <button type="submit" name="delete_cookie" class="btn btn-danger">Delete Cookie</button>
            </form>
            <form method="POST" class="mt-3">
                <button type="submit" name="delete_all_cookies" class="btn btn-warning">Delete All Cookies</button>
            </form>
        </div>
    </div>

    <h4>Current Cookies</h4>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Key</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            {% for key, value in request.cookies.items() %}
            <tr>
                <td>{{ key }}</td>
                <td>{{ value }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </table>
</div>
{% endblock %}